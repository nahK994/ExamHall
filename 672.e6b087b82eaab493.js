"use strict";(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[672],{2672:(z,S,s)=>{s.r(S),s.d(S,{CreateExamModule:()=>j});var v=s(9808),C=s(4259),c=s(5861),i=s(3075),e=s(5e3),_=s(4464),T=s(520),U=s(900);let Z=(()=>{class n{constructor(t,o){this.http=t,this._appService=o}getTopics(){var t=this;return(0,c.Z)(function*(){return yield(0,_.n)(t.http.get(t._appService.doamin+"/topics",t._appService.httpOptions))})()}getQuestions(){var t=this;return(0,c.Z)(function*(){return yield(0,_.n)(t.http.get(t._appService.doamin+"/questions",t._appService.httpOptions))})()}createTopic(t){var o=this;return(0,c.Z)(function*(){return yield(0,_.n)(o.http.post(o._appService.doamin+"/topics",t,o._appService.httpOptions))})()}createQuestion(t){var o=this;return(0,c.Z)(function*(){return yield(0,_.n)(o.http.post(o._appService.doamin+"/questions",t,o._appService.httpOptions))})()}createExam(t){var o=this;return(0,c.Z)(function*(){return yield(0,_.n)(o.http.post(o._appService.doamin+"/exams",t,o._appService.httpOptions))})()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.eN),e.LFG(U.z))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Q=s(2764),g=s(7423),q=s(9224),p=s(4106),x=s(7531),b=s(4107),O=s(508),y=s(5239),A=s(5245);function I(n,a){1&n&&(e.ynx(0),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA(),e.BQk())}function E(n,a){1&n&&(e.TgZ(0,"mat-icon"),e._uU(1,"remove"),e.qZA())}let N=(()=>{class n{constructor(t){this._fb=t,this.isSelected=!1,this.selectQuestion=new e.vpe,this.deSelectQuestion=new e.vpe,this.form=this._fb.group({isChecked:!1})}takeAction(){var t,o;this.isSelected=!this.isSelected,this.isSelected?this.selectQuestion.emit(null===(t=this.question)||void 0===t?void 0:t.questionId):this.deSelectQuestion.emit(null===(o=this.question)||void 0===o?void 0:o.questionId)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["question-selector"]],inputs:{isSelected:"isSelected",question:"question"},outputs:{selectQuestion:"selectQuestion",deSelectQuestion:"deSelectQuestion"},decls:6,vars:3,consts:[[1,"question-selector"],[3,"question"],["mat-icon-button","",3,"click"],[4,"ngIf","ngIfElse"],["isSelectedTemp",""]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"question",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return o.takeAction()}),e.YNc(3,I,3,0,"ng-container",3),e.YNc(4,E,2,0,"ng-template",null,4,e.W1O),e.qZA()()),2&t){const r=e.MAs(5);e.xp6(1),e.Q6J("question",o.question),e.xp6(2),e.Q6J("ngIf",!o.isSelected)("ngIfElse",r)}},directives:[y.Y,g.lW,v.O5,A.Hw],styles:[".question-selector[_ngcontent-%COMP%]{display:flex;column-gap:12px}"]}),n})();function F(n,a){if(1&n&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",null==t?null:t.topicId),e.xp6(1),e.Oqu(null==t?null:t.name)}}function J(n,a){if(1&n&&(e.TgZ(0,"mat-form-field",6)(1,"mat-label"),e._uU(2,"Select question topic"),e.qZA(),e.TgZ(3,"mat-select",13),e.YNc(4,F,2,2,"mat-option",14),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("formControl",t.topic),e.xp6(1),e.Q6J("ngForOf",t.allTopics)}}function M(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"question-selector",16),e.NdJ("selectQuestion",function(r){return e.CHM(t),e.oxw().selectQuestion(r)})("deSelectQuestion",function(r){return e.CHM(t),e.oxw().deSelectQuestion(r)}),e.qZA(),e.BQk()}if(2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("isSelected",o.isSelectedQuestion(t))("question",t)}}function w(n,a){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",null==t?null:t.topicId),e.xp6(1),e.Oqu(null==t?null:t.name)}}const P=[{path:"",component:(()=>{class n{constructor(t,o,r,l){this._activateRoute=t,this._router=o,this._createExamService=r,this._fb=l,this.allTopics=[],this.questions=[],this.allQuestions=[],this.topic=new i.NI(""),this.form=this._fb.group({name:["",[i.kI.required]],numberForCorrectAnswer:[,[i.kI.required]],numberForIncorrectAnswer:[,[i.kI.required]],numberOfSeats:[,[i.kI.required]],questions:[[]]})}ngOnInit(){var t=this;return(0,c.Z)(function*(){t.allTopics=yield t._createExamService.getTopics();let o=[];for(let r of t.allTopics)for(let l of r.questions)o.push(l);t.allQuestions=o,t.topic.valueChanges.subscribe(r=>{let l=[];for(let u of t.allQuestions)u.topic===r&&l.push(u);t.questions=l})})()}createTopic(){this._router.navigate(["create-topic"],{relativeTo:this._activateRoute})}createQuestion(){this._router.navigate(["create-question"],{relativeTo:this._activateRoute})}selectQuestion(t){var o,r;let l=null===(o=this.form.get("questions"))||void 0===o?void 0:o.value;l.push(t),null===(r=this.form.get("questions"))||void 0===r||r.setValue(l)}deSelectQuestion(t){var o,r;let l=null===(o=this.form.get("questions"))||void 0===o?void 0:o.value,u=l.indexOf(t);l.splice(u,1),null===(r=this.form.get("questions"))||void 0===r||r.setValue(l)}isSelectedQuestion(t){var o;return null===(o=this.form.get("questions"))||void 0===o?void 0:o.value.includes(t.questionId)}createExam(){var t,o,r,l,u,d;try{let f=Number(null===(t=this.form.get("numberForCorrectAnswer"))||void 0===t?void 0:t.value),h=Number(null===(o=this.form.get("numberForIncorrectAnswer"))||void 0===o?void 0:o.value),m=Number(null===(r=this.form.get("numberOfSeats"))||void 0===r?void 0:r.value);null===(l=this.form.get("numberForCorrectAnswer"))||void 0===l||l.setValue(f),null===(u=this.form.get("numberForIncorrectAnswer"))||void 0===u||u.setValue(h),null===(d=this.form.get("numberOfSeats"))||void 0===d||d.setValue(m),this._createExamService.createExam(this.form.value),this.form.reset(),this._router.navigate(["admin/home"])}catch(f){console.log(f)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.gz),e.Y36(C.F0),e.Y36(Z),e.Y36(i.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-exam"]],decls:29,vars:4,consts:[[3,"returnUrl"],[1,"layout"],[1,"actions"],["mat-raised-button","",3,"click"],[1,"form"],[1,"input-fields",3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Name","formControlName","name","required",""],["matInput","","placeholder","Number of total seats","formControlName","numberOfSeats","required",""],["matInput","","placeholder","Number for correct answer","formControlName","numberForCorrectAnswer","required",""],["matInput","","placeholder","Number for incorrect answer","formControlName","numberForIncorrectAnswer","required",""],["appearance","outline",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"isSelected","question","selectQuestion","deSelectQuestion"]],template:function(t,o){1&t&&(e.TgZ(0,"page-container",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return o.createTopic()}),e._uU(4,"Create Topic"),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return o.createQuestion()}),e._uU(6,"Create Question"),e.qZA()(),e.TgZ(7,"mat-card",4)(8,"button",3),e.NdJ("click",function(){return o.createExam()}),e._uU(9,"Create Exam"),e.qZA(),e.TgZ(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),e._uU(13,"Name"),e.qZA(),e._UZ(14,"input",7),e.qZA(),e.TgZ(15,"mat-form-field",6)(16,"mat-label"),e._uU(17,"Number of total seats"),e.qZA(),e._UZ(18,"input",8),e.qZA(),e.TgZ(19,"mat-form-field",6)(20,"mat-label"),e._uU(21,"Number for correct answer"),e.qZA(),e._UZ(22,"input",9),e.qZA(),e.TgZ(23,"mat-form-field",6)(24,"mat-label"),e._uU(25,"Number for incorrect answer"),e.qZA(),e._UZ(26,"input",10),e.qZA(),e.YNc(27,J,5,2,"mat-form-field",11),e.qZA(),e.YNc(28,M,2,2,"ng-container",12),e.qZA()()()),2&t&&(e.Q6J("returnUrl","admin"),e.xp6(10),e.Q6J("formGroup",o.form),e.xp6(17),e.Q6J("ngIf",o.allTopics.length),e.xp6(1),e.Q6J("ngForOf",o.questions))},directives:[Q.G,g.lW,q.a8,i.JL,i.sg,p.KE,p.hX,x.Nt,i.Fj,i.JJ,i.u,i.Q7,v.O5,b.gD,i.oH,v.sg,O.ey,N],styles:[".layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;row-gap:12px}.layout[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.layout[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:12px}.layout[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .input-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})()},{path:"create-topic",component:(()=>{class n{constructor(t,o){this._createExamService=t,this._fb=o,this.topic=this._fb.group({name:["",[i.kI.required]]})}submit(){var t=this;return(0,c.Z)(function*(){yield t._createExamService.createTopic(t.topic.value),t.topic.reset()})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z),e.Y36(i.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-topic"]],decls:9,vars:2,consts:[[3,"returnUrl"],[3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Enter topic name","formControlName","name","required",""],["mat-raised-button","",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"page-container",0)(1,"mat-card")(2,"form",1)(3,"mat-form-field",2)(4,"mat-label"),e._uU(5,"Enter topic name"),e.qZA(),e._UZ(6,"input",3),e.qZA()()(),e.TgZ(7,"button",4),e.NdJ("click",function(){return o.submit()}),e._uU(8,"Submit"),e.qZA()()),2&t&&(e.Q6J("returnUrl","admin/create-exam"),e.xp6(2),e.Q6J("formGroup",o.topic))},directives:[Q.G,q.a8,i._Y,i.JL,i.sg,p.KE,p.hX,x.Nt,i.Fj,i.JJ,i.u,i.Q7,g.lW],styles:[""]}),n})()},{path:"create-question",component:(()=>{class n{constructor(t,o){this._createExamService=t,this._fb=o,this.allTopics=[],this.question=this._fb.group({questionText:["",[i.kI.required]],explaination:["",[i.kI.required]],topic:[,[i.kI.required]],answer:["",[i.kI.required]],option1:["",[i.kI.required]],option2:["",[i.kI.required]],option3:["",[i.kI.required]],option4:["",[i.kI.required]],option5:["",[i.kI.required]],option6:["",[i.kI.required]]})}ngOnInit(){var t=this;return(0,c.Z)(function*(){t.allTopics=yield t._createExamService.getTopics()})()}submit(){var t=this;return(0,c.Z)(function*(){var o,r,l,u,d,f,h;let m="";switch(t.question.value.answer){case"1":m=null===(o=t.question.get("option1"))||void 0===o?void 0:o.value;break;case"2":m=null===(r=t.question.get("option2"))||void 0===r?void 0:r.value;break;case"3":m=null===(l=t.question.get("option3"))||void 0===l?void 0:l.value;break;case"4":m=null===(u=t.question.get("option4"))||void 0===u?void 0:u.value;break;case"5":m=null===(d=t.question.get("option5"))||void 0===d?void 0:d.value;break;case"6":m=null===(f=t.question.get("option6"))||void 0===f?void 0:f.value}null===(h=t.question.get("answer"))||void 0===h||h.setValue(m),yield t._createExamService.createQuestion(t.question.value),t.question.reset()})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z),e.Y36(i.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-question"]],decls:61,vars:3,consts:[[3,"returnUrl"],[1,"form",3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Enter question text","formControlName","questionText","required",""],[1,"options"],[1,"side"],["matInput","","placeholder","Option 1","formControlName","option1","required",""],["matInput","","placeholder","Option 2","formControlName","option2","required",""],["matInput","","placeholder","Option 3","formControlName","option3","required",""],["matInput","","placeholder","Option 4","formControlName","option4","required",""],["matInput","","placeholder","Option 5","formControlName","option5","required",""],["matInput","","placeholder","Option 6","formControlName","option6","required",""],["formControlName","answer"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["matInput","","maxlength","1000","formControlName","explaination","required","","placeholder","Explaination"],["formControlName","topic"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"page-container",0)(1,"mat-card",1)(2,"mat-form-field",2)(3,"mat-label"),e._uU(4,"Enter question text"),e.qZA(),e._UZ(5,"input",3),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-form-field",2)(9,"mat-label"),e._uU(10,"Option 1"),e.qZA(),e._UZ(11,"input",6),e.qZA(),e.TgZ(12,"mat-form-field",2)(13,"mat-label"),e._uU(14,"Option 2"),e.qZA(),e._UZ(15,"input",7),e.qZA(),e.TgZ(16,"mat-form-field",2)(17,"mat-label"),e._uU(18,"Option 3"),e.qZA(),e._UZ(19,"input",8),e.qZA()(),e.TgZ(20,"div",5)(21,"mat-form-field",2)(22,"mat-label"),e._uU(23,"Option 4"),e.qZA(),e._UZ(24,"input",9),e.qZA(),e.TgZ(25,"mat-form-field",2)(26,"mat-label"),e._uU(27,"Option 5"),e.qZA(),e._UZ(28,"input",10),e.qZA(),e.TgZ(29,"mat-form-field",2)(30,"mat-label"),e._uU(31,"Option 6"),e.qZA(),e._UZ(32,"input",11),e.qZA()()(),e.TgZ(33,"mat-form-field",2)(34,"mat-label"),e._uU(35,"Answer"),e.qZA(),e.TgZ(36,"mat-select",12)(37,"mat-option",13),e._uU(38,"Option 1"),e.qZA(),e.TgZ(39,"mat-option",14),e._uU(40,"Option 2"),e.qZA(),e.TgZ(41,"mat-option",15),e._uU(42,"Option 3"),e.qZA(),e.TgZ(43,"mat-option",16),e._uU(44,"Option 4"),e.qZA(),e.TgZ(45,"mat-option",17),e._uU(46,"Option 5"),e.qZA(),e.TgZ(47,"mat-option",18),e._uU(48,"Option 6"),e.qZA()()(),e.TgZ(49,"mat-form-field",2)(50,"mat-label"),e._uU(51,"Explaination"),e.qZA(),e.TgZ(52,"textarea",19),e._uU(53,"            "),e.qZA()(),e.TgZ(54,"mat-form-field",2)(55,"mat-label"),e._uU(56,"Topic"),e.qZA(),e.TgZ(57,"mat-select",20),e.YNc(58,w,2,2,"mat-option",21),e.qZA()()(),e.TgZ(59,"button",22),e.NdJ("click",function(){return o.submit()}),e._uU(60,"Submit"),e.qZA()()),2&t&&(e.Q6J("returnUrl","admin/create-exam"),e.xp6(1),e.Q6J("formGroup",o.question),e.xp6(57),e.Q6J("ngForOf",o.allTopics))},directives:[Q.G,q.a8,i.JL,i.sg,p.KE,p.hX,x.Nt,i.Fj,i.JJ,i.u,i.Q7,b.gD,O.ey,i.nD,v.sg,g.lW],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex;column-gap:20px}.form[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .side[_ngcontent-%COMP%]{display:flex;flex-direction:column;column-gap:20px}"]}),n})()}];let Y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[C.Bz.forChild(P)],C.Bz]}),n})();var G=s(4050);let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[v.ez,G.g,g.ot,A.Ps]]}),n})();var R=s(2569),X=s(1192);let j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:T.TP,useClass:R.b,multi:!0},Z],imports:[[v.ez,Y,T.JF,i.UX,g.ot,A.Ps,q.QW,p.lN,x.c,b.LD,L,q.QW,X.y]]}),n})()}}]);