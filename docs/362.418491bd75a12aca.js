"use strict";(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[362],{3362:(k,C,i)=>{i.r(C),i.d(C,{UserModule:()=>I});var _=i(9808),p=i(4259),c=i(5861),r=i(3075),t=i(5e3),m=i(4464),f=i(520),y=i(900);let g=(()=>{class n{constructor(e,o){this.http=e,this._appService=o}loginUser(e){var o=this;return(0,c.Z)(function*(){return yield(0,m.n)(o.http.post(o._appService.doamin+"/users/login",e,o._appService.httpOptions))})()}createUser(e){var o=this;return(0,c.Z)(function*(){return yield(0,m.n)(o.http.post(o._appService.doamin+"/users/create",e,o._appService.httpOptions))})()}getUserFavourites(){var e=this;return(0,c.Z)(function*(){return yield(0,m.n)(e.http.get(e._appService.doamin+"/favourite-questions",e._appService.httpOptions))})()}getTopics(){var e=this;return(0,c.Z)(function*(){return yield(0,m.n)(e.http.get(e._appService.doamin+"/topics",e._appService.httpOptions))})()}deleteQuestionFromArchive(e){var o=this;return(0,c.Z)(function*(){let s="/favourite-questions/"+e+"/delete";return yield(0,m.n)(o.http.delete(o._appService.doamin+s,o._appService.httpOptions))})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(f.eN),t.LFG(y.z))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Z=i(8382),l=i(4106),T=i(4107),O=i(508),U=i(250),d=i(7423);function x(n,a){if(1&n&&(t.TgZ(0,"mat-option",3),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",null==e?null:e.topicId),t.xp6(1),t.Oqu(null==e?null:e.name)}}function F(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7),t._UZ(2,"question-viewer",8),t.TgZ(3,"button",9),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.oxw().deleteFromArchive(u)}),t._uU(4,"delete from archive"),t.qZA()(),t.BQk()}if(2&n){const e=a.$implicit;t.xp6(2),t.Q6J("question",e)}}let P=(()=>{class n{constructor(e){this._userService=e,this.questions=[],this.allTopics=[],this.topic=new r.NI("")}ngOnInit(){var e=this;return(0,c.Z)(function*(){e.userArchivedQuestions=yield e._userService.getUserFavourites(),e.allTopics=yield e._userService.getTopics(),e.questions=e.userArchivedQuestions,console.log(e.userArchivedQuestions),e.topic.valueChanges.subscribe(o=>{if(""===o)return void(e.questions=e.userArchivedQuestions);let s=[];for(let u of e.userArchivedQuestions)u.topicId===o&&s.push(u);e.questions=s})})()}deleteFromArchive(e){var o=this;return(0,c.Z)(function*(){yield o._userService.deleteQuestionFromArchive(e.questionId);const s=o.questions.indexOf(e);s>-1&&o.questions.splice(s,1)})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-favourites"]],decls:10,vars:5,consts:[[3,"returnUrl"],["appearance","outline"],[3,"formControl"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"questions"],[4,"ngFor","ngForOf"],[1,"item"],[3,"question"],["mat-stroked-button","",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"page-structure",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Topic"),t.qZA(),t.TgZ(4,"mat-select",2)(5,"mat-option",3),t._uU(6,"All"),t.qZA(),t.YNc(7,x,2,2,"mat-option",4),t.qZA()(),t.TgZ(8,"div",5),t.YNc(9,F,5,1,"ng-container",6),t.qZA()()),2&e&&(t.Q6J("returnUrl","home"),t.xp6(4),t.Q6J("formControl",o.topic),t.xp6(1),t.Q6J("value",""),t.xp6(2),t.Q6J("ngForOf",o.allTopics),t.xp6(2),t.Q6J("ngForOf",o.questions))},directives:[Z.t,l.KE,l.hX,T.gD,r.JJ,r.oH,O.ey,_.sg,U.y,d.lW],styles:[".questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:40px}.questions[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;row-gap:8px}"]}),n})(),q=(()=>{class n{constructor(e){this._router=e}goModelTests(){this._router.navigate(["model-tests"])}goToFavourite(){this._router.navigate(["favourites"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:5,vars:0,consts:[["mat-raised-button","",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"page-structure")(1,"button",0),t.NdJ("click",function(){return o.goToFavourite()}),t._uU(2,"Favourite Queations"),t.qZA(),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.goModelTests()}),t._uU(4,"Model Tests"),t.qZA()())},directives:[Z.t,d.lW],styles:[".home[_ngcontent-%COMP%]{display:flex;flex-direction:column}.home[_ngcontent-%COMP%]   .top-bar[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:12px}.home[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:10px;width:100%;min-height:100%}"]}),n})();var v=i(9224),h=i(7531);let A=(()=>{class n{constructor(e,o,s,u){this._fb=e,this._userService=o,this._router=s,this._appService=u,this.loginForm=this._fb.group({email:["",[r.kI.required,r.kI.email]],password:["",r.kI.required]})}login(){var e=this;return(0,c.Z)(function*(){let o=yield e._userService.loginUser(e.loginForm.value);e._appService.setAssets(o.refresh,o.access),e._router.navigate(o.isAdmin?["admin"]:["home"])})()}registration(){this._router.navigate(["registration"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(g),t.Y36(p.F0),t.Y36(y.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:1,consts:[[1,"login"],[1,"card-style"],[1,"form-style",3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Email","formControlName","email","required",""],["matInput","","placeholder","Password","formControlName","password","required",""],["mat-raised-button","","color","primary",1,"action",3,"click"],[1,"registration",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"form",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Email"),t.qZA(),t._UZ(6,"input",4),t.TgZ(7,"mat-error"),t._uU(8,"This field is required"),t.qZA()(),t.TgZ(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"Password"),t.qZA(),t._UZ(12,"input",5),t.TgZ(13,"mat-error"),t._uU(14,"This field is required"),t.qZA()(),t.TgZ(15,"button",6),t.NdJ("click",function(){return o.login()}),t._uU(16,"Login"),t.qZA(),t.TgZ(17,"div",7),t.NdJ("click",function(){return o.registration()}),t._uU(18,"Create an account"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",o.loginForm))},directives:[v.a8,r._Y,r.JL,r.sg,l.KE,l.hX,h.Nt,r.Fj,r.JJ,r.u,r.Q7,l.TO,d.lW],styles:[".login[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center}.card-style[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;column-gap:12px}.card-style[_ngcontent-%COMP%]   .form-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;column-gap:8px}.card-style[_ngcontent-%COMP%]   .form-style[_ngcontent-%COMP%]   .registration[_ngcontent-%COMP%]{color:#00796b;cursor:pointer;margin-top:16px}.card-style[_ngcontent-%COMP%]   .form-style[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{background-color:#00796b}"]}),n})();var M=i(5245);const J=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:A},{path:"registration",component:(()=>{class n{constructor(e,o,s){this._fb=e,this._userService=o,this._router=s,this.registrationForm=this._fb.group({email:["",[r.kI.required,r.kI.email]],name:["",r.kI.required],password:["",r.kI.required]})}createUser(){var e=this;return(0,c.Z)(function*(){let o=yield e._userService.createUser(e.registrationForm.value);e._router.navigate(["user",o])})()}goBack(){this._router.navigate(["login"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(g),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-registration"]],decls:28,vars:1,consts:[[1,"registration"],[1,"top-bar"],["mat-icon-button","",1,"back-button",3,"click"],[1,"content"],[1,"card-style"],[1,"form-style",3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Name","formControlName","name","required",""],["matInput","","placeholder","Email","formControlName","email","required",""],["matInput","","placeholder","Password","formControlName","password","required",""],["mat-raised-button","","color","primary",1,"action",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return o.goBack()}),t.TgZ(3,"mat-icon"),t._uU(4,"arrow_back"),t.qZA()()(),t.TgZ(5,"div",3)(6,"mat-card",4)(7,"form",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"Name"),t.qZA(),t._UZ(11,"input",7),t.TgZ(12,"mat-error"),t._uU(13,"This field is required"),t.qZA()(),t.TgZ(14,"mat-form-field",6)(15,"mat-label"),t._uU(16,"Email"),t.qZA(),t._UZ(17,"input",8),t.TgZ(18,"mat-error"),t._uU(19,"This field is required"),t.qZA()(),t.TgZ(20,"mat-form-field",6)(21,"mat-label"),t._uU(22,"Password"),t.qZA(),t._UZ(23,"input",9),t.TgZ(24,"mat-error"),t._uU(25,"This field is required"),t.qZA()(),t.TgZ(26,"button",10),t.NdJ("click",function(){return o.createUser()}),t._uU(27,"Register"),t.qZA()()()()()),2&e&&(t.xp6(7),t.Q6J("formGroup",o.registrationForm))},directives:[d.lW,M.Hw,v.a8,r._Y,r.JL,r.sg,l.KE,l.hX,h.Nt,r.Fj,r.JJ,r.u,r.Q7,l.TO],styles:[".registration[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.registration[_ngcontent-%COMP%]   .top-bar[_ngcontent-%COMP%]{width:100%;display:flex}.registration[_ngcontent-%COMP%]   .top-bar[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin:12px}.registration[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;align-items:center}.registration[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card-style[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;column-gap:12px}.registration[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card-style[_ngcontent-%COMP%]   .form-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;column-gap:8px}.registration[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card-style[_ngcontent-%COMP%]   .form-style[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{background-color:#00796b}"]}),n})()},{path:"home",component:q},{path:"model-tests",loadChildren:()=>i.e(966).then(i.bind(i,3898)).then(n=>n.ModelTestModule)},{path:"favourites",component:P}];let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(J)],p.Bz]}),n})();var b=i(9313),Q=i(2569),N=i(362);let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:f.TP,useClass:Q.b,multi:!0},g],imports:[[_.ez,S,d.ot,f.JF,r.UX,h.c,v.QW,M.Ps,T.LD,l.lN,b.m,N.Z]]}),n})()}}]);