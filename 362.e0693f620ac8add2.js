"use strict";(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[362],{3362:(L,_,s)=>{s.r(_),s.d(_,{UserModule:()=>N});var T=s(9808),p=s(4259),u=s(5861),i=s(3075),t=s(5e3),m=s(4464),h=s(520),U=s(900);let f=(()=>{class o{constructor(e,n){this.http=e,this._appService=n}loginUser(e){var n=this;return(0,u.Z)(function*(){return yield(0,m.n)(n.http.post(n._appService.doamin+"/login",e,n._appService.httpOptions))})()}createUser(e){var n=this;return(0,u.Z)(function*(){return yield(0,m.n)(n.http.post(n._appService.doamin+"/registration",e,n._appService.httpOptions))})()}getUserFavourites(){var e=this;return(0,u.Z)(function*(){return yield(0,m.n)(e.http.get(e._appService.doamin+"/favourite-questions",e._appService.httpOptions))})()}getSubjects(){var e=this;return(0,u.Z)(function*(){return yield(0,m.n)(e.http.get(e._appService.doamin+"/subjects",e._appService.httpOptions))})()}deleteQuestionFromArchive(e){var n=this;return(0,u.Z)(function*(){let r="/favourite-questions/"+e;return yield(0,m.n)(n.http.delete(n._appService.doamin+r,n._appService.httpOptions))})()}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(h.eN),t.LFG(U.z))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var y=s(2764),l=s(7322),F=s(4107),x=s(508),v=s(9224),q=s(5239),d=s(7423),g=s(5245);function O(o,a){if(1&o&&(t.TgZ(0,"mat-option",3),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",null==e?null:e.subjectId),t.xp6(1),t.Oqu(null==e?null:e.name)}}function A(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-card",7),t._UZ(2,"question",8),t.TgZ(3,"button",9),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().deleteFromArchive(c)}),t.TgZ(4,"mat-icon",10),t._uU(5,"delete"),t.qZA()()(),t.BQk()}if(2&o){const e=a.$implicit;t.xp6(2),t.Q6J("question",e)}}let M=(()=>{class o{constructor(e){this._userService=e,this.questions=[],this.allSubjects=[],this.subject=new i.NI("")}ngOnInit(){var e=this;return(0,u.Z)(function*(){e.allSubjects=yield e._userService.getUserFavourites();let n=[];for(let r of e.allSubjects)for(let c of r.questions)n.push(c);e.userArchivedQuestions=n,e.questions=n,e.subject.valueChanges.subscribe(r=>{if(""===r)return void(e.questions=e.userArchivedQuestions);let c=[];for(let Z of e.userArchivedQuestions)Z.subject===r&&c.push(Z);e.questions=c})})()}deleteFromArchive(e){var n=this;return(0,u.Z)(function*(){yield n._userService.deleteQuestionFromArchive(e.questionId);const r=n.questions.indexOf(e);r>-1&&n.questions.splice(r,1)})()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-favourites"]],decls:10,vars:5,consts:[[3,"returnUrl"],["appearance","outline"],[3,"formControl"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"questions"],[4,"ngFor","ngForOf"],[1,"card"],[3,"question"],["mat-icon-button","",3,"click"],[2,"color","#855646"]],template:function(e,n){1&e&&(t.TgZ(0,"page-container",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Subject"),t.qZA(),t.TgZ(4,"mat-select",2)(5,"mat-option",3),t._uU(6,"All"),t.qZA(),t.YNc(7,O,2,2,"mat-option",4),t.qZA()(),t.TgZ(8,"div",5),t.YNc(9,A,6,1,"ng-container",6),t.qZA()()),2&e&&(t.Q6J("returnUrl","home"),t.xp6(4),t.Q6J("formControl",n.subject),t.xp6(1),t.Q6J("value",""),t.xp6(2),t.Q6J("ngForOf",n.allSubjects),t.xp6(2),t.Q6J("ngForOf",n.questions))},directives:[y.G,l.KE,l.hX,F.gD,i.JJ,i.oH,x.ey,T.sg,v.a8,q.Y,d.lW,g.Hw],styles:[".questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:40px}.questions[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:row;column-gap:20px}"]}),o})(),b=(()=>{class o{constructor(e){this._router=e}goModelTests(){this._router.navigate(["model-tests"])}goToFavourite(){this._router.navigate(["favourites"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],decls:11,vars:0,consts:[["mat-raised-button","",1,"button",3,"click"],[1,"icon"],[1,"text"],["mat-raised-button","",1,"button",2,"margin-top","20px",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"page-container")(1,"button",0),t.NdJ("click",function(){return n.goToFavourite()}),t.TgZ(2,"mat-icon",1),t._uU(3,"workspace_premium"),t.qZA(),t.TgZ(4,"div",2),t._uU(5,"Favourite Queations"),t.qZA()(),t.TgZ(6,"button",3),t.NdJ("click",function(){return n.goModelTests()}),t.TgZ(7,"mat-icon",1),t._uU(8,"assignment"),t.qZA(),t.TgZ(9,"div",2),t._uU(10,"Model Tests"),t.qZA()()())},directives:[y.G,d.lW,g.Hw],styles:[".button[_ngcontent-%COMP%]{height:150px;width:400px;display:flex;flex-direction:column;align-content:center;justify-content:center;align-items:center;font-size:20px;color:#777888}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:40px}.button[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:20px}"]}),o})();var C=s(7531);const S=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class o{constructor(e,n,r,c){this._fb=e,this._userService=n,this._router=r,this._appService=c,this.hide=!0,this.loginForm=this._fb.group({email:["",[i.kI.required,i.kI.email]],password:["",i.kI.required]})}login(){var e=this;return(0,u.Z)(function*(){let n=yield e._userService.loginUser(e.loginForm.value);e._appService.setAssets(n.refresh,n.access),e._router.navigate(n.isAdmin?["admin"]:["home"])})()}registration(){this._router.navigate(["registration"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(i.qu),t.Y36(f),t.Y36(p.F0),t.Y36(U.z))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:21,vars:3,consts:[[1,"login"],[1,"card-style"],[1,"form-style",3,"formGroup"],["appearance","outline",2,"width","-webkit-fill-available"],["matInput","","placeholder","Email","formControlName","email","required",""],["appearance","outline"],["matInput","","placeholder","Password","formControlName","password","required","",3,"type"],["matSuffix","",3,"click"],["mat-raised-button","","color","primary",1,"action",3,"click"],[1,"registration",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"form",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Email"),t.qZA(),t._UZ(6,"input",4),t.TgZ(7,"mat-error"),t._uU(8,"This field is required"),t.qZA()(),t.TgZ(9,"mat-form-field",5)(10,"mat-label"),t._uU(11,"Password"),t.qZA(),t._UZ(12,"input",6),t.TgZ(13,"mat-icon",7),t.NdJ("click",function(){return n.hide=!n.hide}),t._uU(14),t.qZA(),t.TgZ(15,"mat-error"),t._uU(16,"This field is required"),t.qZA()(),t.TgZ(17,"button",8),t.NdJ("click",function(){return n.login()}),t._uU(18,"Login"),t.qZA(),t.TgZ(19,"div",9),t.NdJ("click",function(){return n.registration()}),t._uU(20,"Create an account"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",n.loginForm),t.xp6(10),t.Q6J("type",n.hide?"password":"text"),t.xp6(2),t.Oqu(n.hide?"visibility_off":"visibility"))},directives:[v.a8,i._Y,i.JL,i.sg,l.KE,l.hX,C.Nt,i.Fj,i.JJ,i.u,i.Q7,l.TO,g.Hw,l.R9,d.lW],styles:[".login[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;background-color:#eceff1}.card-style[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;column-gap:12px}.card-style[_ngcontent-%COMP%]   .form-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;column-gap:8px}.card-style[_ngcontent-%COMP%]   .form-style[_ngcontent-%COMP%]   .registration[_ngcontent-%COMP%]{color:#455a64;cursor:pointer;margin-top:16px}.card-style[_ngcontent-%COMP%]   .form-style[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{background-color:#455a64}"]}),o})()},{path:"registration",component:(()=>{class o{constructor(e,n,r){this._fb=e,this._userService=n,this._router=r,this.hide=!0,this.registrationForm=this._fb.group({email:["",[i.kI.required,i.kI.email]],name:["",i.kI.required],password:["",i.kI.required]})}createUser(){var e=this;return(0,u.Z)(function*(){yield e._userService.createUser(e.registrationForm.value),e._router.navigate(["login"])})()}goBack(){this._router.navigate(["login"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(i.qu),t.Y36(f),t.Y36(p.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-registration"]],decls:25,vars:5,consts:[[3,"returnUrl","isLogoutAvailable"],[1,"card-style"],[1,"form-style",3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Name","formControlName","name","required",""],["matInput","","placeholder","Email","formControlName","email","required",""],["matInput","","placeholder","Password","formControlName","password","required","",3,"type"],["matSuffix","",3,"click"],["mat-raised-button","","color","primary",1,"action",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"page-container",0)(1,"mat-card",1)(2,"form",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Name"),t.qZA(),t._UZ(6,"input",4),t.TgZ(7,"mat-error"),t._uU(8,"This field is required"),t.qZA()(),t.TgZ(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"Email"),t.qZA(),t._UZ(12,"input",5),t.TgZ(13,"mat-error"),t._uU(14,"This field is required"),t.qZA()(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Password"),t.qZA(),t._UZ(18,"input",6),t.TgZ(19,"mat-icon",7),t.NdJ("click",function(){return n.hide=!n.hide}),t._uU(20),t.qZA(),t.TgZ(21,"mat-error"),t._uU(22,"This field is required"),t.qZA()(),t.TgZ(23,"button",8),t.NdJ("click",function(){return n.createUser()}),t._uU(24,"Register"),t.qZA()()()()),2&e&&(t.Q6J("returnUrl","login")("isLogoutAvailable",!1),t.xp6(2),t.Q6J("formGroup",n.registrationForm),t.xp6(16),t.Q6J("type",n.hide?"password":"text"),t.xp6(2),t.Oqu(n.hide?"visibility_off":"visibility"))},directives:[y.G,v.a8,i._Y,i.JL,i.sg,l.KE,l.hX,C.Nt,i.Fj,i.JJ,i.u,i.Q7,l.TO,g.Hw,l.R9,d.lW],styles:[".card-style[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;column-gap:12px}.card-style[_ngcontent-%COMP%]   .form-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;column-gap:8px}.card-style[_ngcontent-%COMP%]   .form-style[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{background-color:#455a64}"]}),o})()},{path:"home",component:b},{path:"model-tests",loadChildren:()=>Promise.all([s.e(592),s.e(252)]).then(s.bind(s,7252)).then(o=>o.ModelTestModule)},{path:"favourites",component:M}];let J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(S)],p.Bz]}),o})();var P=s(2569),Q=s(1192),j=s(4050);let N=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[{provide:h.TP,useClass:P.b,multi:!0},f],imports:[[T.ez,J,d.ot,h.JF,i.UX,C.c,v.QW,g.Ps,F.LD,l.lN,j.g,Q.y]]}),o})()}}]);